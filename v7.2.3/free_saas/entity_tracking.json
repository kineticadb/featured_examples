{
  "workbook": {
    "metadata": {
      "revision": 20250317,
      "example_id": "1ee8d2d0-3ae5-11ed-97c0-a3308093a434",
      "features": [
        "Kafka ingest",
        "Tracks",
        "Location analytics",
        "Materialized views",
        "Alerts"
      ],
      "approx_time": "30 mins",
      "legacy_name": "real_time_entity_tracking"
    },
    "config": {},
    "id": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9",
    "name": "Tracking Entities In Real Time",
    "description": "This workbook uses a small sample of the AIS data to track entities in real time.",
    "user_id": "9f8c9d70-b647-11ee-9176-c7c8ea7d66a6",
    "warehouse_id": "07496e10-b721-11ed-96c1-b3b0c8482874",
    "is_example": true,
    "is_shared": false,
    "created_at": "2022-09-06T13:50:02.760Z",
    "updated_at": "2024-01-19T14:09:22.527Z",
    "userId": "9f8c9d70-b647-11ee-9176-c7c8ea7d66a6"
  },
  "worksheets": [
    {
      "config": {},
      "id": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
      "name": "2. Tracks",
      "description": "Description for sheet 2",
      "previous_worksheet_id": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
      "next_worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
      "workbook_id": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9",
      "created_at": "2022-09-06T13:50:27.969Z",
      "updated_at": "2024-01-19T14:08:05.056Z",
      "workbookId": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9"
    },
    {
      "config": {},
      "id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
      "name": "4. Dwell Times",
      "description": "Description for sheet 3",
      "previous_worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
      "next_worksheet_id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
      "workbook_id": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9",
      "created_at": "2022-09-06T13:50:42.490Z",
      "updated_at": "2024-01-19T14:08:05.063Z",
      "workbookId": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9"
    },
    {
      "config": {},
      "id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
      "name": "3. Geofencing",
      "description": "Description for sheet 4",
      "previous_worksheet_id": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
      "next_worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
      "workbook_id": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9",
      "created_at": "2022-09-06T13:51:07.254Z",
      "updated_at": "2024-01-19T14:08:05.069Z",
      "workbookId": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9"
    },
    {
      "config": {},
      "id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
      "name": "5. Proximity",
      "description": "",
      "previous_worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
      "next_worksheet_id": null,
      "workbook_id": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9",
      "created_at": "2022-09-13T09:49:54.955Z",
      "updated_at": "2024-01-19T14:08:05.075Z",
      "workbookId": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
      "name": "Introduction",
      "description": "Description for sheet 6",
      "previous_worksheet_id": null,
      "next_worksheet_id": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
      "workbook_id": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9",
      "created_at": "2022-09-13T09:58:12.945Z",
      "updated_at": "2024-01-19T14:09:22.508Z",
      "workbookId": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9"
    },
    {
      "config": {
        "chat_messages": []
      },
      "id": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
      "name": "1. Data setup (DDL)",
      "description": "Description for sheet 6",
      "previous_worksheet_id": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
      "next_worksheet_id": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
      "workbook_id": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9",
      "created_at": "2022-09-23T02:12:17.740Z",
      "updated_at": "2024-01-19T14:08:20.552Z",
      "workbookId": "29857c40-b6d4-11ee-a8f4-ab54b76e6fc9"
    }
  ],
  "blockMap": {
    "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9": [
      {
        "config": {},
        "id": "2987ed40-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"\"",
        "previous_block_id": "d6547660-3a8e-11ed-b64b-dfe44e641bf4",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-13T09:50:32.862Z",
        "updated_at": "2024-01-19T14:08:04.199Z",
        "worksheetId": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "298973e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"WHAT ARE TRACKS?\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"A track is a \"},{\"text\":\"native\",\"italic\":true},{\"text\":\" geospatial object in Kinetica that is used to represent the path an object takes over time and space. A track is defined using an ID, x and y coordinates and timestamps. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"WHY ARE TRACKS USEFUL?\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Pretty much any object that moves can be represented and studied using tracks. This has a wide range of application in almost all sectors of the economy including supply chain management, ride sharing, IoT devices. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"WHAT SETS KINETICA APART?\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Tracks are unique to Kinetica and they are represented as a native geospatial object in the database. There are several advantages to this.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"-- When a track is defined, Kinetica, automatically interpolates between the points to construct the path that constitutes the track.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"-- This interpolation to a path allows Kinetica to perform geospatial operations that detect intersections, collisions, proximity with other geospatial objects and measure track features such as its length and duration.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"All of this out of the box functionality makes it easier and more performant to use Kinetica to analyze the behaviour of tracks without having to write any custom code yourself.\"}]}]",
        "previous_block_id": "298afa80-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "298ef220-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-20T14:52:09.084Z",
        "updated_at": "2024-01-19T14:08:04.205Z",
        "worksheetId": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "298afa80-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "{}",
        "previous_block_id": null,
        "next_block_id": "298973e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "016d9471-1913-4c85-894a-101e82909fd3",
        "worksheet_id": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-21T19:47:56.996Z",
        "updated_at": "2024-01-19T14:08:04.212Z",
        "worksheetId": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "016d9471-1913-4c85-894a-101e82909fd3"
      },
      {
        "config": {},
        "id": "298d9290-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "{\"table_schema\":\"\",\"table_name\":\"single_track\",\"geometry_type\":\"lon_lat\",\"longitude\":\"x\",\"latitude\":\"y\",\"renderType\":\"track\",\"center_longitude\":-84.3197,\"center_latitude\":24.6868,\"zoom_level\":5.69,\"opacity\":70,\"overrides\":\"\",\"auto_refresh_interval\":5,\"trackHeadColor\":\"ca2c92\",\"trackHeadShape\":\"hollowdiamond\",\"trackHeadSize\":7,\"trackMarkerColor\":\"2cca9fff\",\"trackMarkerShape\":\"none\",\"trackMarkerSize\":1,\"trackLineColor\":\"3700b3\",\"trackLineWidth\":4,\"symbolRotation\":\"\"}",
        "previous_block_id": "2991d850-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": null,
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-22T12:18:21.407Z",
        "updated_at": "2024-01-19T14:08:04.218Z",
        "worksheetId": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      },
      {
        "config": {},
        "id": "298ef220-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"CALCULATE THE SUMMARY TRACKS\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Tracks come with two aggregate functions ST_TRACKLENGTH and ST_TRACKDURATION. Let's use those to calculate track lengths, duration and bounds.\"}]}]",
        "previous_block_id": "298973e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "299078c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-22T16:03:48.944Z",
        "updated_at": "2024-01-19T14:08:04.225Z",
        "worksheetId": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "299078c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"CREATE OR REPLACE MATERIALIZED VIEW track_summary \\nREFRESH EVERY 2 MINUTES STOP AFTER 2 HOURS AS\\nSELECT \\n    TRACKID, \\n    COUNT(*) AS n_obs, \\n    ROUND(ST_TRACKLENGTH(Y, X,TIMESTAMP, 1) / 1000) AS track_length_km, \\n    ROUND(ST_TRACKDURATION(HOUR,TIMESTAMP)) as DURATION,\\n    ROUND((ST_TRACKLENGTH(x,y,TIMESTAMP,1) / 1000)/ST_TRACKDURATION(HOUR,TIMESTAMP)) as AVG_SPEED_KM_HRS,\\n    MIN(X) AS min_longitude,\\n    MAX(X) AS max_longitude,\\n    MIN(Y) AS min_latitude,\\n    MAX(Y) AS max_latitude\\nFROM ship_tracks\\nGROUP BY TRACKID\\nORDER BY track_length_km DESC;\\n\\nSELECT * FROM track_summary\"",
        "previous_block_id": "298ef220-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29935ef0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-23T18:39:25.467Z",
        "updated_at": "2024-01-19T14:08:04.231Z",
        "worksheetId": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "2991d850-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"CREATE OR REPLACE MATERIALIZED VIEW long_tracks\\nREFRESH EVERY 5 SECONDS STOP AFTER 2 HOURS AS \\nSELECT TRACKID \\nFROM track_summary\\nLIMIT 40;\\n\\n-- Select a random track to display on the map\\nCREATE OR REPLACE MATERIALIZED VIEW single_track \\nREFRESH EVERY 5 SECONDS STOP AFTER 2 HOURS\\nAS \\nSELECT TRACKID, x, y, TIMESTAMP \\nFROM ship_tracks\\nWHERE TRACKID = (SELECT TRACKID FROM long_tracks ORDER BY RAND() LIMIT 1)\\n\\n\"",
        "previous_block_id": "29935ef0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "298d9290-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-23T18:40:28.167Z",
        "updated_at": "2024-01-19T14:08:04.237Z",
        "worksheetId": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29935ef0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"VISUALIZE THE 40 LONGEST TRACKS ON A MAP\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Let's pick a random track from the 40 longest tracks in the data to study more closely on the map using a materialized view that refreshes every 5 seconds.\"}]}]",
        "previous_block_id": "299078c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "2991d850-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-23T18:40:46.217Z",
        "updated_at": "2024-01-19T14:08:04.243Z",
        "worksheetId": "2986b4c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      }
    ],
    "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9": [
      {
        "config": {},
        "id": "299d9820-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"ALERT BASED ON DWELL AND/OR LOITERING\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"As a port manager you also want to know when a vessel is spending more time than usual without moving or circling around the same spots. We are interested in just the last 4 hours of activity. So let's start by identifying tracks that have timestamps in the last 4 hours and calculating the area of the bounds of that track and the length.\"}]}]",
        "previous_block_id": "29a00920-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29a2a130-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-21T20:17:28.341Z",
        "updated_at": "2024-01-19T14:08:04.376Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29a00920-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "{}",
        "previous_block_id": null,
        "next_block_id": "299d9820-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "016d9471-1913-4c85-894a-101e82909fd3",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-22T01:08:08.951Z",
        "updated_at": "2024-01-19T14:08:04.382Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "016d9471-1913-4c85-894a-101e82909fd3"
      },
      {
        "config": {},
        "id": "29a2a130-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Create a view with the tracks over the last 4 hours\\nCREATE OR REPLACE MATERIALIZED VIEW recent_tracks\\nREFRESH EVERY 5 MINUTES STOP AFTER 2 HOURS AS\\nSELECT * \\nFROM ship_tracks \\nWHERE TIMEBOUNDARYDIFF('HOUR', TIMESTAMP, NOW()) < 1;\\n\\n-- Identify the track length and the bounds of the tracks that have recordings for the last 4 hours.\\nCREATE OR REPLACE MATERIALIZED VIEW track_area_length_4hr\\nREFRESH EVERY 5 MINUTES STOP AFTER 2 HOURS AS \\nSELECT \\n    TRACKID,\\n    ABS(MAX(X) - MIN(X)) AS x_dist,\\n    ABS(MAX(Y) - MIN(Y)) AS y_dist,\\n    ST_AREA(ST_MAKEENVELOPE(MIN(X), MIN(Y), MAX(X), MAX(Y))) AS track_bounds_area,\\n    ST_TRACKLENGTH(Y, X,TIMESTAMP, 1) AS track_length\\nFROM (SELECT * FROM recent_tracks)\\nGROUP BY TRACKID\\nORDER BY track_bounds_area;\\n\\nSELECT * FROM track_area_length_4hr\"",
        "previous_block_id": "299d9820-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29a56050-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-29T20:47:56.495Z",
        "updated_at": "2024-01-19T14:08:04.388Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29a427d0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Find all the tracks that are loitering\\nCREATE OR REPLACE MATERIALIZED VIEW loitering_ships\\nREFRESH EVERY 5 MINUTES STOP AFTER 2 HOURS AS \\nSELECT * FROM recent_tracks \\nWHERE TRACKID IN \\n(\\n    SELECT TRACKID FROM track_area_length_4hr\\n    WHERE (x_dist < 0.01 AND y_dist < 0.01) AND track_length > 1000\\n)\\n\"",
        "previous_block_id": "29ad2880-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29a7d150-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-30T01:10:33.397Z",
        "updated_at": "2024-01-19T14:08:04.394Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29a56050-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"DWELLING VS LOITERING\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Dwelling is when a object is almost entirely stationary. For instance, a ship that has dropped anchor will barely move until it lifts its anchor. So we'd expect the track length and the area that it covers to be pretty small for the period that it is dwelling.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Loitering on the other hand is when an  is constantly moving but within a small area. So in the case of dwelling, we'd expect the track length to be significantly greater than zero but the area that it covers (based on the bounds) to be pretty small. Loitering in this context could mean a ship which is performing a particular kind of activity like fishing. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Let's start by finding all the ships that are dwelling. Our threshold for dwelling is an bounds area less than 100 metre squared and a track length less than 100 metres total over the last 4 hours.\"}]}]",
        "previous_block_id": "29a2a130-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29a930e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-30T01:10:39.095Z",
        "updated_at": "2024-01-19T14:08:04.401Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29a698d0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "{\"table_schema\":\"\",\"table_name\":\"loitering_ships\",\"geometry_type\":\"lon_lat\",\"longitude\":\"x\",\"latitude\":\"y\",\"renderType\":\"track\",\"trackHeadColor\":\"ca2c92\",\"trackHeadShape\":\"hollowdiamond\",\"trackHeadSize\":7,\"trackMarkerColor\":\"ca992cff\",\"trackMarkerShape\":\"circle\",\"trackMarkerSize\":2,\"trackLineColor\":\"3700b3\",\"trackLineWidth\":5,\"symbolRotation\":\"\",\"center_longitude\":-90.5559,\"center_latitude\":27.509,\"zoom_level\":4.909596772372948,\"opacity\":70,\"overrides\":\"\",\"auto_refresh_interval\":0,\"basemap_style\":\"color\"}",
        "previous_block_id": "29a7d150-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29ae39f0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-30T01:21:46.917Z",
        "updated_at": "2024-01-19T14:08:04.407Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      },
      {
        "config": {},
        "id": "29a7d150-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Click the refresh button on the map to see the Tracks that are loitering.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"🔎 Zoom into the map to see the loitering tracks up close. \"}]}]",
        "previous_block_id": "29a427d0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29a698d0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-30T01:50:28.094Z",
        "updated_at": "2024-01-19T14:08:04.413Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29a930e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Find all the tracks that are dwelling\\nCREATE OR REPLACE MATERIALIZED VIEW dwelling_ships\\nREFRESH EVERY 5 MINUTES STOP AFTER 2 HOURS AS \\nSELECT * FROM recent_tracks\\nWHERE TRACKID IN \\n(\\n    SELECT TRACKID FROM track_area_length_4hr\\n    WHERE (x_dist < 0.01 AND y_dist < 0.01) AND track_length < 50\\n)\"",
        "previous_block_id": "29a56050-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29abc8f0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-30T01:51:16.002Z",
        "updated_at": "2024-01-19T14:08:04.419Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29aa9070-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "{\"table_schema\":\"\",\"table_name\":\"dwelling_ships\",\"geometry_type\":\"lon_lat\",\"longitude\":\"x\",\"latitude\":\"y\",\"renderType\":\"track\",\"trackHeadColor\":\"ca2c92\",\"trackHeadShape\":\"hollowdiamond\",\"trackHeadSize\":9,\"trackMarkerColor\":\"ca7e2cff\",\"trackMarkerShape\":\"circle\",\"trackMarkerSize\":2,\"trackLineColor\":\"3700b3\",\"trackLineWidth\":6,\"symbolRotation\":\"\",\"center_longitude\":-90.7641,\"center_latitude\":27.1117,\"zoom_level\":5.059231864244435,\"opacity\":70,\"overrides\":\"\",\"auto_refresh_interval\":0,\"basemap_style\":\"color\"}",
        "previous_block_id": "29abc8f0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29ad2880-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-30T01:51:52.517Z",
        "updated_at": "2024-01-19T14:08:04.426Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      },
      {
        "config": {},
        "id": "29abc8f0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"👆🏻Click the refresh button to see the ships that are dwelling.  \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"🔎 Try zooming down to a 5 metre level to see how the track looks up close. \"}]}]",
        "previous_block_id": "29a930e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29aa9070-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-30T02:20:13.036Z",
        "updated_at": "2024-01-19T14:08:04.433Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29ad2880-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"Next, lets calculate loitering. The threshold for loitering is that a ship has a total track length between 1 to 5 kms within a 400 metre square area.\"}]}]",
        "previous_block_id": "29aa9070-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29a427d0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-30T02:21:40.853Z",
        "updated_at": "2024-01-19T14:08:04.439Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29ae39f0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"SET UP AN ALERT\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Go ahead and clone this example to your workspace if you are running this on read only mode (example) to complete the next steps.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"In the previous worksheet we set up an alert by first setting up a Data Sink that was configured to send messages to a Slack channel. Follow the instructions here to set up a slack app and use that to send messages to a channel on you workspace whenever dwelling or loitering ships are identified.. https://api.slack.com/messaging/webhooks.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"If you don't have access to Slack, you can follow the instructions from one of other examples to set up an alerting system via webhook . Try the \\\"Time Series Joins With ASOF\\\" example.\"}]}]",
        "previous_block_id": "29a698d0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": null,
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-11-21T03:03:35.530Z",
        "updated_at": "2024-01-19T14:08:04.445Z",
        "worksheetId": "299c5fa0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      }
    ],
    "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9": [
      {
        "config": {},
        "id": "29bc6ac0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block 1",
        "description": "Description for Block 1",
        "content": "\"-- Show the geo fence on a map\\nCREATE OR REPLACE TABLE geo_fence AS \\nSELECT \\n    1 as zone_id, \\n    ST_MAKEENVELOPE( -91, 28.5, -88.5, 30.5) as monitor_zone\"",
        "previous_block_id": "29c06260-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29bdca50-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-06T13:51:07.511Z",
        "updated_at": "2024-01-19T14:08:04.596Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29bdca50-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"table_schema\":\"\",\"table_name\":\"geo_fence\",\"geometry_type\":\"wkt\",\"wkt\":\"monitor_zone\",\"renderType\":\"raster\",\"fillColor\":\"ca2c92\",\"borderColor\":\"5c0b3fff\",\"pointSize\":2,\"lineWidth\":2,\"center_longitude\":\"-90.5225\",\"center_latitude\":\"29.5517\",\"zoom_level\":5.720000000000001,\"opacity\":30,\"overrides\":\"\",\"auto_refresh_interval\":5,\"basemap_style\":\"color\"}]",
        "previous_block_id": "29bc6ac0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29ceba40-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-06T14:55:24.747Z",
        "updated_at": "2024-01-19T14:08:04.602Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      },
      {
        "config": {},
        "id": "29bf02d0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"\"",
        "previous_block_id": "1ff057c0-3ae5-11ed-97c0-a3308093a434",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-13T12:43:41.585Z",
        "updated_at": "2024-01-19T14:08:04.608Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29c06260-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"GEOFENCING ALERTS\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"We are expecting bad weather around New Orleans. You have been tasked with setting up a way to alert ships that are traveling too fast in this area. The threshold is set as  ships that have traveled more than two kilometers over the last 5 minutes. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The zone around New Orleans is shown below.\"}]}]",
        "previous_block_id": "29c19ae0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29bc6ac0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-21T19:54:36.614Z",
        "updated_at": "2024-01-19T14:08:04.614Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29c19ae0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "{}",
        "previous_block_id": null,
        "next_block_id": "29c06260-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "016d9471-1913-4c85-894a-101e82909fd3",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-21T20:15:56.050Z",
        "updated_at": "2024-01-19T14:08:04.621Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "016d9471-1913-4c85-894a-101e82909fd3"
      },
      {
        "config": {},
        "id": "29c432f0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"ST_TRACKINTERSECTS\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Kinetica interpolates the path that a track will take based on the ordering of the points. The ST_TRACKINTERSECTS function takes this interpolation into account when determining whether a track intersects with a fence.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The output from the function contains the TRACKID, the entire track linestring and information about the geofence that it intersected with.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The code below uses a materialized view that is refreshed every 5 seconds to identify tracks as they intersect with the fence that we defined above. We are only looking for tracks that intersected the fence over the last 2 hours.\"}]}]",
        "previous_block_id": "29cae9b0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29cd5ab0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-28T20:25:32.733Z",
        "updated_at": "2024-01-19T14:08:04.627Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29c56b70-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- A materialized view of all the paths from the view above that have intersected with the zone\\nCREATE OR REPLACE MATERIALIZED VIEW fence_tracks\\nREFRESH EVERY 5 SECONDS STOP AFTER 2 HOURS AS\\nSELECT *\\nFROM TABLE\\n(\\n    ST_TRACKINTERSECTS\\n    (\\n        TRACK_TABLE => INPUT_TABLE(moving_tracks),\\n        TRACK_ID_COLUMN => 'TRACKID',\\n        TRACK_X_COLUMN => 'x',\\n        TRACK_Y_COLUMN => 'y',\\n        TRACK_ORDER_COLUMN => 'TIMESTAMP',\\n        GEOFENCE_TABLE => INPUT_TABLE(geo_fence),\\n        GEOFENCE_ID_COLUMN => 'zone_id',\\n        GEOFENCE_WKT_COLUMN => 'monitor_zone'\\n    )\\n)\"",
        "previous_block_id": "29cd5ab0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29c82a90-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-29T16:50:17.016Z",
        "updated_at": "2024-01-19T14:08:04.633Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29c6cb00-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"table_schema\":\"\",\"table_name\":\"geo_fence\",\"geometry_type\":\"wkt\",\"wkt\":\"monitor_zone\",\"renderType\":\"raster\",\"fillColor\":\"e144a9a1\",\"borderColor\":\"8c106bff\",\"pointSize\":2,\"lineWidth\":1,\"center_longitude\":\"-90.3873\",\"center_latitude\":\"29.3509\",\"zoom_level\":7.04,\"opacity\":70,\"overrides\":\"\",\"auto_refresh_interval\":2,\"basemap_style\":\"color\"},{\"table_schema\":\"\",\"table_name\":\"fence_track_paths\",\"geometry_type\":\"lon_lat\",\"longitude\":\"x\",\"latitude\":\"y\",\"renderType\":\"track\",\"trackHeadColor\":\"6e69f5ff\",\"trackHeadShape\":\"diamond\",\"trackHeadSize\":6,\"trackMarkerColor\":\"ca2c92\",\"trackMarkerShape\":\"none\",\"trackMarkerSize\":2,\"trackLineColor\":\"3700b3\",\"trackLineWidth\":4,\"symbolRotation\":\"\",\"opacity\":70,\"overrides\":\"\"}]",
        "previous_block_id": "29c82a90-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29c96310-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-29T17:18:14.820Z",
        "updated_at": "2024-01-19T14:08:04.640Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      },
      {
        "config": {},
        "id": "29c82a90-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- View to show all the fast moving ships that have intersected with the geofence\\nCREATE OR REPLACE MATERIALIZED VIEW fence_track_paths\\nREFRESH ON CHANGE \\nAS \\nSELECT * FROM moving_tracks\\nWHERE TRACKID IN (SELECT TRACKID FROM fence_tracks)\"",
        "previous_block_id": "29c56b70-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29c6cb00-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-29T20:09:44.793Z",
        "updated_at": "2024-01-19T14:08:04.646Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29c96310-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"CREATE AN ALERT\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The materialized view that was setup earlier does all the work of monitoring the incoming data to automatically detect anytime a track intersects with our geofence. Now all we need to do is to direct that information out of Kinetica so that the end user is alerted as soon an event of interest occurs. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"There are a few different ways to do this. We could set up a Kafka topic or apps like Slack as a data sink that receives alerts. Or we can use a simple webhook to send the alerts and then process data from the webhook in downstream apps. \"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"SEE EVENTS BEING STREAMED IN REAL TIME\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"For this illustration, we will use the latter to send records to a pipedream webhook and then hook that up to the following google spreadsheet: \"},{\"text\":\"https://bit.ly/3kvkeF6\",\"underline\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Copy and paste the link above into your browswers address bar to see geofencing events being detected in real time by Kinetica.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]",
        "previous_block_id": "29c6cb00-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29cff2c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-29T20:32:14.948Z",
        "updated_at": "2024-01-19T14:08:04.653Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29cae9b0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Calculate the distance traveled over the last 5 minutes\\nCREATE OR REPLACE MATERIALIZED VIEW track_length_5mins\\nREFRESH EVERY 5 SECONDS STOP AFTER 2 HOURS AS \\nSELECT \\n    TRACKID, \\n    ST_TRACKLENGTH(Y, X,TIMESTAMP, 1) / 1000 AS track_length \\nFROM ship_tracks \\nWHERE TIMEBOUNDARYDIFF('MINUTE', TIMESTAMP, NOW()) < 5\\nGROUP BY TRACKID;\\n\\n-- Show the ships that are traveling fast\\nSELECT TRACKID FROM track_length_5mins WHERE track_length > 2\"",
        "previous_block_id": "29ceba40-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29c432f0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-11-08T20:06:21.384Z",
        "updated_at": "2024-01-19T14:08:04.660Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29cd5ab0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Set up a view with all the fast moving tracks (we want to look for intersections anytime over the past 4 hours with the zone of interest)\\nCREATE OR REPLACE MATERIALIZED VIEW moving_tracks\\nREFRESH EVERY 5 SECONDS STOP AFTER 2 HOURS AS\\nSELECT * FROM ship_tracks \\nWHERE \\n    TRACKID IN (SELECT TRACKID FROM track_length_5mins WHERE track_length > 2) AND \\n    TIMEBOUNDARYDIFF('HOUR', TIMESTAMP, NOW()) < 4\"",
        "previous_block_id": "29c432f0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29c56b70-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-11-08T20:22:53.741Z",
        "updated_at": "2024-01-19T14:08:04.666Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29ceba40-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"First we need to setup a view that calculates the distance moved by all ships in the last 5 minutes. \"}]}]",
        "previous_block_id": "29bdca50-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29cae9b0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-11-21T02:56:38.530Z",
        "updated_at": "2024-01-19T14:08:04.673Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29cff2c0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- CREATE A STREAM \\nCREATE STREAM ship_fence_events ON fence_tracks\\nREFRESH ON CHANGE \\nWITH OPTIONS \\n(\\n    DESTINATION = 'https://eooqqk4ei4cjxan.m.pipedream.net' \\n)\"",
        "previous_block_id": "29c96310-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2023-02-25T03:25:49.712Z",
        "updated_at": "2024-01-19T14:08:04.679Z",
        "worksheetId": "29bb3240-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      }
    ],
    "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9": [
      {
        "config": {},
        "id": "29e01f60-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"CREATE STREAM vessel_tracking.proximity_events\\nON TABLE vessel_tracking.proximity_events\\n    REFRESH ON CHANGE\\n    WHERE TRACK_TABLE_TRACKID!=SEARCH_TABLE_TRACKID\\nWITH OPTIONS \\n(\\n    DATASINK_NAME = 'shipping_alerts'\\n);\"",
        "previous_block_id": "2034dad0-3ae5-11ed-97c0-a3308093a434",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-19T12:41:35.649Z",
        "updated_at": "2024-01-19T14:08:04.793Z",
        "worksheetId": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29e1a600-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"select DATEADD(SECOND,-60,NOW())\"",
        "previous_block_id": "76b25880-381d-11ed-b64b-dfe44e641bf4",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-19T13:20:27.959Z",
        "updated_at": "2024-01-19T14:08:04.800Z",
        "worksheetId": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29e30590-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"ALERT BASED ON PROXIMITY\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Detect when two tracks are within a certain distance from each other around the same time. Kinetica has an ST_DWITHIN function that can be used to detect when a tracks are within a particular distance and time from each other.\"}]}]",
        "previous_block_id": "29e4da50-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29e79970-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-22T01:11:04.051Z",
        "updated_at": "2024-01-19T14:08:04.808Z",
        "worksheetId": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29e4da50-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "{}",
        "previous_block_id": null,
        "next_block_id": "29e30590-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "016d9471-1913-4c85-894a-101e82909fd3",
        "worksheet_id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-22T01:21:24.315Z",
        "updated_at": "2024-01-19T14:08:04.814Z",
        "worksheetId": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "016d9471-1913-4c85-894a-101e82909fd3"
      },
      {
        "config": {},
        "id": "29e79970-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Identify tracks that came within 2 meters of each other within a 1 minute window\\nCREATE OR REPLACE MATERIALIZED VIEW proximate_tracks \\nREFRESH EVERY 1 MINUTE STOP AFTER 2 HOURS AS \\nSELECT * FROM TABLE \\n(\\n    ST_TRACK_DWITHIN\\n    (\\n        TRACK_TABLE => INPUT_TABLE(recent_tracks),\\n        TRACK_ID_COLUMN => 'TRACKID',\\n        TRACK_X_COLUMN =>  'x',\\n        TRACK_Y_COLUMN =>  'y',\\n        TRACK_ORDER_COLUMN =>  'TIMESTAMP',\\n        SEARCH_TABLE => INPUT_TABLE(recent_tracks),\\n        SEARCH_ID_COLUMN =>  'TRACKID',\\n        SEARCH_X_COLUMN =>  'x',\\n        SEARCH_Y_COLUMN =>  'y',\\n        SEARCH_ORDER_COLUMN =>  'TIMESTAMP',\\n            SEARCH_XY_DISTANCE => '2',\\n            SPATIAL_SOLUTION_TYPE => 1,\\n            SEARCH_TIME_DISTANCE => '1m'\\n    )\\n)\\nWHERE TRACK_TABLE_TRACKID <> SEARCH_TABLE_TRACKID\"",
        "previous_block_id": "29e30590-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29eb6a00-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-10-03T13:51:38.003Z",
        "updated_at": "2024-01-19T14:08:04.820Z",
        "worksheetId": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29e8f900-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Select a random row from the proximate tracks\\nCREATE OR REPLACE MATERIALIZED VIEW single_proximates \\nREFRESH EVERY 5 SECONDS STOP AFTER 2 HOURS AS \\nSELECT * FROM proximate_tracks\\nORDER BY RAND()\\nLIMIT 1;\\n\\n-- Create a view of proxiamte tracks to show on map (one at a time)\\nCREATE OR REPLACE MATERIALIZED VIEW map_proximates \\nREFRESH EVERY 5 SECONDS STOP AFTER 2 HOURS AS\\nSELECT * from ship_tracks\\nWHERE TRACKID = (SELECT TRACK_TABLE_TRACKID FROM single_proximates) OR\\nTRACKID = (SELECT SEARCH_TABLE_TRACKID FROM single_proximates);\"",
        "previous_block_id": "29eb6a00-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29ecc990-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-10-03T14:06:38.469Z",
        "updated_at": "2024-01-19T14:08:04.826Z",
        "worksheetId": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29ea3180-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "{\"table_schema\":\"\",\"table_name\":\"map_proximates\",\"geometry_type\":\"lon_lat\",\"longitude\":\"x\",\"latitude\":\"y\",\"renderType\":\"track\",\"trackHeadColor\":\"ca2c92\",\"trackHeadShape\":\"hollowdiamond\",\"trackHeadSize\":8,\"trackMarkerColor\":\"ca2c92\",\"trackMarkerShape\":\"none\",\"trackMarkerSize\":2,\"trackLineColor\":\"3700b3\",\"trackLineWidth\":3,\"symbolRotation\":\"\",\"center_longitude\":-87.4899,\"center_latitude\":24.514,\"zoom_level\":5.6011263880601225,\"opacity\":70,\"overrides\":\"\",\"auto_refresh_interval\":5,\"basemap_style\":\"color\"}",
        "previous_block_id": "29ecc990-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29ee0210-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-10-03T14:24:45.925Z",
        "updated_at": "2024-01-19T14:08:04.832Z",
        "worksheetId": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      },
      {
        "config": {},
        "id": "29eb6a00-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"The queries below are optional. They select two proximate tracks at random from the materialized view created above to display on the map.\"}]}]",
        "previous_block_id": "29e79970-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29e8f900-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-10-03T15:14:05.747Z",
        "updated_at": "2024-01-19T14:08:04.838Z",
        "worksheetId": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29ecc990-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"The map below shows tracks that at some point in the last 4 hours passed within 2 metres of each other within a 1 minute window. Most of these will likely be tug boats.\"}]}]",
        "previous_block_id": "29e8f900-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29ea3180-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-10-03T16:39:10.232Z",
        "updated_at": "2024-01-19T14:08:04.845Z",
        "worksheetId": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29ee0210-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"SET UP AN ALERT\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Go ahead and clone this example to your workspace if you are running this on read only mode (example) to complete the next steps.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Set up a slack app and use that to send messages to a channel on you workspace whenever proximity events occur (https://api.slack.com/messaging/webhooks).\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"If you don't have access to Slack, you can follow the instructions in the geofence sheet to set up an alerting system via webhook.\"}]}]",
        "previous_block_id": "29ea3180-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": null,
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-11-21T03:14:27.729Z",
        "updated_at": "2024-01-19T14:08:04.852Z",
        "worksheetId": "29dee6e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      }
    ],
    "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9": [
      {
        "config": {},
        "id": "29fa5e20-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"select * from vessel_tracking.ais_tracks limit 1\"",
        "previous_block_id": "949f55a0-334a-11ed-b64b-dfe44e641bf4",
        "next_block_id": null,
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-19T15:08:31.986Z",
        "updated_at": "2024-01-19T14:08:04.918Z",
        "worksheetId": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29fb96a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"THE PROBLEM\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Let's say you work for the US Coast Guard Service in the Gulf of Mexico region. Your job is to monitor ship traffic in the area to alert whenever the following events happen.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"-- When a ship enters certain areas within the Gulf of Mexico region\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"-- Identify which ships are dwelling or loitering (not moving) within this area of interest\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"-- When ships are passing too close to other ships (proximity alerts)\"}]}]",
        "previous_block_id": "29fccf20-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "29ff6730-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-20T14:47:37.483Z",
        "updated_at": "2024-01-19T14:08:04.925Z",
        "worksheetId": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "29fccf20-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "{}",
        "previous_block_id": null,
        "next_block_id": "29fb96a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "d7d34b22-2aa2-484f-9e8e-106f62612caf",
        "worksheet_id": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-22T15:35:59.816Z",
        "updated_at": "2024-01-19T14:08:04.931Z",
        "worksheetId": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "d7d34b22-2aa2-484f-9e8e-106f62612caf"
      },
      {
        "config": {},
        "id": "29ff6730-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Create a temp table to show the area on a map.\\nCREATE OR REPLACE TEMP TABLE area_interest AS \\nSELECT ST_MAKEENVELOPE(-98.66,18.09,-76.89,30.26)\"",
        "previous_block_id": "29fb96a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "2a0114e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-23T18:34:54.964Z",
        "updated_at": "2024-01-19T14:08:04.937Z",
        "worksheetId": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "2a0114e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "{\"table_schema\":\"\",\"table_name\":\"area_interest\",\"geometry_type\":\"wkt\",\"wkt\":\"EXPR_0\",\"renderType\":\"raster\",\"fillColor\":\"cf99b9ff\",\"borderColor\":\"770b5cff\",\"lineWidth\":3,\"center_longitude\":-87.775,\"center_latitude\":24.3208,\"zoom_level\":4.69,\"opacity\":70,\"overrides\":\"\",\"auto_refresh_interval\":\"\",\"basemap_style\":\"color\"}",
        "previous_block_id": "29ff6730-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": null,
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-23T18:36:22.664Z",
        "updated_at": "2024-01-19T14:08:04.943Z",
        "worksheetId": "29f925a0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      }
    ],
    "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9": [
      {
        "config": {},
        "id": "2a09a060-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block 1",
        "description": "Description for Block 1",
        "content": "\"-- Create the table for the ais data\\nCREATE OR REPLACE TABLE ship_tracks\\n(\\n    \\\"TIMESTAMP\\\" TIMESTAMP NOT NULL,\\n    \\\"CONTINENT\\\" VARCHAR (64, dict),\\n    \\\"COUNTRY\\\" VARCHAR (32, dict),\\n    \\\"TRACKID\\\" VARCHAR (shard_key, 64),\\n    \\\"NAVIGATION_STATUS\\\" VARCHAR (64, dict),\\n    \\\"y\\\" REAL,\\n    \\\"x\\\" REAL,\\n    \\\"SHIP_TYPE\\\" VARCHAR (64, dict)\\n);\\n\\n-- Load the data from the kafka data source into the table\\nLOAD DATA INTO ship_tracks\\nFORMAT JSON \\nWITH OPTIONS (\\n    DATA SOURCE = 'ships_stream_source',\\n    SUBSCRIBE = TRUE,\\n    TYPE_INFERENCE_MODE = 'speed',\\n    ERROR_HANDLING = 'permissive',\\n    kafka_subscription_cancel_after = 120 -- cancels the stream after 120 minutes\\n);\"",
        "previous_block_id": "2a105720-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "2a0d9800-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-23T02:12:17.933Z",
        "updated_at": "2024-01-19T14:08:05.019Z",
        "worksheetId": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "2a0c3870-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "\"-- Drop the table into which we will be streaming (if it exists) so that we can recreate the credential\\nDROP TABLE IF EXISTS ship_tracks;\\n\\n-- Create the credentials for the kafka cluster\\nCREATE OR REPLACE CREDENTIAL ship_confluent_creds\\nTYPE = 'confluent',\\nIDENTITY = '' ,\\nSECRET = ''\\nWITH OPTIONS (  \\n   'security.protocol' = 'SASL_SSL',\\n   'sasl.mechanism' = 'PLAIN',\\n   'sasl.username' = 'QZN62QB2RBTLW74L',\\n   'sasl.password' = 'iiJDdKeBzf5ms5EInLvpRslW1zwsTYx9tjZ1pQyVoS+gPGkyNms6eMXPaR6y+GST'\\n);\\n\\n-- Create the data source\\nCREATE OR REPLACE DATA SOURCE ships_stream_source\\nLOCATION = 'confluent://pkc-ep9mm.us-east-2.aws.confluent.cloud:9092'\\nWITH OPTIONS \\n(\\n    kafka_topic_name =  'ais_tracks',\\n    credential = 'ship_confluent_creds'\\n);\\n\"",
        "previous_block_id": "2a0ef790-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "2a105720-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "84b9233c-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-23T14:42:27.953Z",
        "updated_at": "2024-01-19T14:08:42.323Z",
        "worksheetId": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "84b9233c-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "2a0d9800-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "{\"table_schema\":\"\",\"table_name\":\"ship_tracks\",\"geometry_type\":\"lon_lat\",\"longitude\":\"x\",\"latitude\":\"y\",\"renderType\":\"track\",\"trackHeadColor\":\"ca2c92\",\"trackHeadShape\":\"hollowdiamond\",\"trackHeadSize\":3,\"trackMarkerColor\":\"ca2c92\",\"trackMarkerShape\":\"none\",\"trackMarkerSize\":2,\"trackLineColor\":\"3700b3\",\"trackLineWidth\":1,\"symbolRotation\":\"\",\"center_longitude\":-88.9805,\"center_latitude\":23.6344,\"zoom_level\":4.974264877307863,\"opacity\":70,\"overrides\":\"\",\"auto_refresh_interval\":2,\"basemap_style\":\"color\"}",
        "previous_block_id": "2a09a060-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": null,
        "block_type_id": "e8ccc4e2-793f-47ed-9af2-f0a58a840006",
        "worksheet_id": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-23T14:52:46.882Z",
        "updated_at": "2024-01-19T14:08:05.036Z",
        "worksheetId": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "e8ccc4e2-793f-47ed-9af2-f0a58a840006"
      },
      {
        "config": {},
        "id": "2a0ef790-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"SETUP THE DATA SOURCE\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The SQL statements below create a credential and then use that to connect to the Kafka topic that is streaming ship locations.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"ABOUT THE DATA\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The Kafka streams is setup to simulate a real time stream of ship locations over the last 2 days.\"}]}]",
        "previous_block_id": null,
        "next_block_id": "2a0c3870-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-27T19:24:50.029Z",
        "updated_at": "2024-01-19T14:08:05.043Z",
        "worksheetId": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      },
      {
        "config": {},
        "id": "2a105720-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Block",
        "description": "Description for Block",
        "content": "[{\"type\":\"paragraph\",\"children\":[{\"text\":\"LOAD THE DATA\",\"bold\":true}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"Next we define the table and start loading data from the kafka cluster. Kinetica starts by loading the first message in the topic (about 2 days old) till it catches up with the most recent message (i.e. the current location of ships).\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"The map below is set to refresh automatically once every 2 seconds, so you can see the tracks develop on the map as the data streams in.\"}]},{\"type\":\"paragraph\",\"children\":[{\"text\":\"⚠️ \"},{\"text\":\"NOTE: \",\"bold\":true},{\"text\":\"The data for the Kafka topic is generated using a seed file that contains about 4 days worth of Track data. So you might start seeing Tracks that are repeated if you keep Kinetica running for more than that period. This might yield unexpected results when analyzing Tracks.\"}]}]",
        "previous_block_id": "2a0c3870-b6d4-11ee-a8f4-ab54b76e6fc9",
        "next_block_id": "2a09a060-b6d4-11ee-a8f4-ab54b76e6fc9",
        "block_type_id": "a9949a1a-14e3-11eb-adc1-0242ac120002",
        "worksheet_id": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
        "created_at": "2022-09-27T19:26:50.454Z",
        "updated_at": "2024-01-19T14:08:05.049Z",
        "worksheetId": "2a072f60-b6d4-11ee-a8f4-ab54b76e6fc9",
        "blockTypeId": "a9949a1a-14e3-11eb-adc1-0242ac120002"
      }
    ]
  },
  "vizMap": {
    "2987ed40-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "298973e0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "298afa80-b6d4-11ee-a8f4-ab54b76e6fc9": [
      {
        "config": {
          "image_url": "https://github.com/kineticadb/examples/blob/master/entity_tracking/assets/tracks.gif?raw=true",
          "height": "",
          "width": "",
          "alignment": "center"
        },
        "id": "298c5a10-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Image Visualization",
        "description": "Description for image visualization",
        "block_id": "298afa80-b6d4-11ee-a8f4-ab54b76e6fc9",
        "visualization_type_id": "61ec39b0-3295-4354-b92c-831fec4dacb3",
        "created_at": "2022-09-21T19:47:57.152Z",
        "updated_at": "2024-01-19T14:08:04.145Z",
        "blockId": "298afa80-b6d4-11ee-a8f4-ab54b76e6fc9",
        "visualizationTypeId": "61ec39b0-3295-4354-b92c-831fec4dacb3"
      }
    ],
    "298d9290-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "298ef220-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "299078c0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "2991d850-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29935ef0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "299d9820-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29a00920-b6d4-11ee-a8f4-ab54b76e6fc9": [
      {
        "config": {
          "image_url": "https://github.com/kineticadb/examples/blob/master/entity_tracking/assets/dwell_loiter.gif?raw=true",
          "height": "",
          "width": "",
          "alignment": "center"
        },
        "id": "29a168b0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Image Visualization",
        "description": "Description for image visualization",
        "block_id": "29a00920-b6d4-11ee-a8f4-ab54b76e6fc9",
        "visualization_type_id": "61ec39b0-3295-4354-b92c-831fec4dacb3",
        "created_at": "2022-09-22T01:08:09.112Z",
        "updated_at": "2024-01-19T14:08:04.283Z",
        "blockId": "29a00920-b6d4-11ee-a8f4-ab54b76e6fc9",
        "visualizationTypeId": "61ec39b0-3295-4354-b92c-831fec4dacb3"
      }
    ],
    "29a2a130-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29a427d0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29a56050-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29a698d0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29a7d150-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29a930e0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29aa9070-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29abc8f0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29ad2880-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29ae39f0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29bc6ac0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29bdca50-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29bf02d0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29c06260-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29c19ae0-b6d4-11ee-a8f4-ab54b76e6fc9": [
      {
        "config": {
          "image_url": "https://github.com/kineticadb/examples/blob/master/entity_tracking/assets/geofence.gif?raw=true",
          "height": "",
          "width": "",
          "alignment": "center"
        },
        "id": "29c2fa70-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Image Visualization",
        "description": "Description for image visualization",
        "block_id": "29c19ae0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "visualization_type_id": "61ec39b0-3295-4354-b92c-831fec4dacb3",
        "created_at": "2022-09-21T20:15:56.188Z",
        "updated_at": "2024-01-19T14:08:04.503Z",
        "blockId": "29c19ae0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "visualizationTypeId": "61ec39b0-3295-4354-b92c-831fec4dacb3"
      }
    ],
    "29c432f0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29c56b70-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29c6cb00-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29c82a90-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29c96310-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29cae9b0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29cd5ab0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29ceba40-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29cff2c0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29e01f60-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29e1a600-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29e30590-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29e4da50-b6d4-11ee-a8f4-ab54b76e6fc9": [
      {
        "config": {
          "image_url": "https://github.com/kineticadb/examples/blob/master/entity_tracking/assets/proximate.gif?raw=true",
          "height": "",
          "width": "",
          "alignment": "center"
        },
        "id": "29e639e0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "Image Visualization",
        "description": "Description for image visualization",
        "block_id": "29e4da50-b6d4-11ee-a8f4-ab54b76e6fc9",
        "visualization_type_id": "61ec39b0-3295-4354-b92c-831fec4dacb3",
        "created_at": "2022-09-22T01:21:24.500Z",
        "updated_at": "2024-01-19T14:08:04.734Z",
        "blockId": "29e4da50-b6d4-11ee-a8f4-ab54b76e6fc9",
        "visualizationTypeId": "61ec39b0-3295-4354-b92c-831fec4dacb3"
      }
    ],
    "29e79970-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29e8f900-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29ea3180-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29eb6a00-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29ecc990-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29ee0210-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29fa5e20-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29fb96a0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "29fccf20-b6d4-11ee-a8f4-ab54b76e6fc9": [
      {
        "config": {
          "html_source": "<div align='center'>\n<iframe src=\"https://docs.google.com/presentation/d/e/2PACX-1vRiD-oPuICxKwk13pT7LiM0yrpkesFl13vT_ebYNAGa_2QEmReq-2wqFDYrjAQv1POlG7USo-ky19S5/embed?start=true&loop=false&delayms=10000\" frameborder=\"0\" width=\"960\" height=\"569\" allowfullscreen=\"true\" mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\"></iframe>\n</div>"
        },
        "id": "29fe2eb0-b6d4-11ee-a8f4-ab54b76e6fc9",
        "name": "HTML Visualization",
        "description": "Description for html visualization",
        "block_id": "29fccf20-b6d4-11ee-a8f4-ab54b76e6fc9",
        "visualization_type_id": "757cd7cb-6f08-4416-9e9a-291cd651246f",
        "created_at": "2022-09-22T15:35:59.912Z",
        "updated_at": "2024-01-19T14:08:04.891Z",
        "blockId": "29fccf20-b6d4-11ee-a8f4-ab54b76e6fc9",
        "visualizationTypeId": "757cd7cb-6f08-4416-9e9a-291cd651246f"
      }
    ],
    "29ff6730-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "2a0114e0-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "2a09a060-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "2a0c3870-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "2a0d9800-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "2a0ef790-b6d4-11ee-a8f4-ab54b76e6fc9": [],
    "2a105720-b6d4-11ee-a8f4-ab54b76e6fc9": []
  }
}
